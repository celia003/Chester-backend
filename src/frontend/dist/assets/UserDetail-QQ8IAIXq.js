import{N as m,u as p,a as v,G as b,U as _}from"./dinamic_styles-dvbHqokv.js";import{d as f,_ as w,x as y,o as n,c as r,b as e,t,y as d,z as u,h as i,g as $,p as g,m as U}from"./index-ovc9-s1E.js";function C(){return{id:0,username:"",first_name:"",last_name:"",phone:"",email:"",role_name:"",created:"",is_active:!1}}const k=f({components:{NoResults:m},data(){return{user:C(),componentKey:0,colspan:5,currentPage:1,numPages:1,numResults:10}},mounted(){this.initPage()},computed:{cursorPointer(){return"cursor-pointer"}},methods:{useDateStyles:p,useRowDeletedStyle:v,async initPage(){this.componentKey=0,await b.keepConnection(this.$axios).then(s=>{this.componentKey+=1}).catch(s=>{console.log(s.toJSON())}),this.loadUser()},loadUser(){_.getUser(this.$axios,this.$route.params.userId).then(s=>{s.data&&(this.user=s.data)}).catch(s=>{let o=[];o=Object.keys(s.response.data),this.$swal.fire({toast:!0,position:"top",icon:"error",title:"Se ha producido un error",text:o[0]+": "+s.response.data[o[0]],showConfirmButton:!1,showCloseButton:!0})})},inactivateUser(){this.$swal.fire({icon:"question",title:this.$t("question_delete_user"),text:this.$t("user_not_accesible"),width:600,showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Delete"}).then(s=>{s.value&&this.updateUserStatus(!1)})},activateUser(){this.$swal.fire({icon:"info",title:"Dow you want to activate selected user?",text:"User will be active again with previous permissions",width:600,showCancelButton:!0,showCloseButton:!0,confirmButtonText:"Activate"}).then(s=>{s.value&&this.updateUserStatus(!0)})},updateUserStatus(s){_.updateUserStatus(this.$axios,this.$route.params.userId,{is_active:s}).then(o=>{this.$swal.fire({toast:!0,position:"top",icon:"success",title:"User has been modified",text:"User has been modified successfully",showConfirmButton:!1,timer:2500}),this.loadUser()}).catch(o=>{let l=[];l=Object.keys(o.response.data),this.showGenericError("title_emdr_malicious_activity",l[0]+": "+o.response.data[l[0]])})}}}),a=s=>(g("data-v-0e02374a"),s=s(),U(),s),B={class:"col-xxl-14 col-xl-13 col-lg-13 col-md-13 col-sm-13 ms-sm-auto px-md-4"},N={class:"d-flex flex-wrap flex-md-nowrap align-items-center pt-2 pb-2"},x={class:"custom_breadcrumb"},S={class:"title_section_page"},I={class:"breadcrumb_decoration module-active"},Z={key:0,style:{"padding-left":"5px"}},P={class:"box box-content wos"},D={class:"box-header"},A={class:"header_content"},M={class:"title_header"},V={class:"title"},E=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-people border border-info icon-rounded p-1",viewBox:"0 0 16 16"},[e("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"})],-1)),G={class:"grid-container-header-action-buttons text-left"},K={class:"action_header"},O={class:"btn btn-title"},R=a(()=>e("i",{class:"bi bi-arrow-90deg-left b-icon icon-btn-nav"},null,-1)),T={class:"action_header"},j={class:"btn btn-action light-blue"},q=a(()=>e("i",{class:"bi bi-pencil"},null,-1)),H={key:0,class:"action_header"},z=a(()=>e("i",{class:"bi bi-trash"},null,-1)),J={key:1,class:"action_header"},F=a(()=>e("i",{class:"bi bi-activity"},null,-1)),L=a(()=>e("div",{class:"search_section"},null,-1)),Q={class:"box-body mt-4"},W={class:"mb-3 row"},X={for:"userName",class:"col-sm-2 col-form-label"},Y={class:"col-sm-12"},ee=["value"],se={class:"mb-3 row"},te={for:"firstName",class:"col-sm-2 col-form-label"},oe={class:"col-sm-12"},ae=["value"],ie={class:"mb-3 row"},le={for:"lastName",class:"col-sm-2 col-form-label"},ne={class:"col-sm-12"},re=["value"],ce={class:"mb-3 row"},de={for:"email",class:"col-sm-2 col-form-label"},ue={class:"col-sm-12"},_e=["value"],he={class:"mb-3 row"},me={for:"phone",class:"col-sm-2 col-form-label"},pe={class:"col-sm-12"},ve=["value"],be={class:"mb-3 row"},fe={for:"role",class:"col-sm-2 col-form-label"},we={class:"col-sm-12"},ye=["value"],$e=a(()=>e("div",{class:"box-footer"},null,-1));function ge(s,o,l,Ue,Ce,ke){const c=y("router-link");return n(),r("main",B,[e("div",N,[e("div",x,[e("span",S,t(s.$t("user_detail")),1),e("ol",null,[e("li",null,[d(c,{to:{name:"Users"}},{default:u(()=>[e("span",I,t(s.$t("users")),1)]),_:1}),i(" >"),s.user.username?(n(),r("span",Z,t(s.user.username),1)):$("",!0)])])])]),e("div",P,[e("div",D,[e("section",A,[e("div",null,[e("div",M,[e("div",null,[e("span",V,[E,i(" "+t(s.$t("user")),1)])]),e("div",G,[e("div",K,[d(c,{to:{name:"Users"}},{default:u(()=>[e("span",O,[R,i(" "+t(s.$t("back")),1)])]),_:1})]),e("div",T,[d(c,{to:{name:"UserEdit",params:{userId:s.$route.params.userId}}},{default:u(()=>[e("span",j,[q,i(" "+t(s.$t("edit")),1)])]),_:1},8,["to"])]),s.user.is_active?(n(),r("div",H,[e("span",{class:"btn btn-action red",onClick:o[0]||(o[0]=h=>s.inactivateUser())},[z,i(" "+t(s.$t("delete")),1)])])):(n(),r("div",J,[e("span",{class:"btn btn-action light-blue",onClick:o[1]||(o[1]=h=>s.activateUser())},[F,i(" "+t(s.$t("activate")),1)])]))])])]),L])]),e("div",Q,[e("div",W,[e("label",X,t(s.$t("username")),1),e("div",Y,[e("input",{type:"text",readonly:"",class:"form-control",id:"userName",value:s.user.username},null,8,ee)])]),e("div",se,[e("label",te,t(s.$t("name")),1),e("div",oe,[e("input",{type:"text",readonly:"",class:"form-control",id:"firstName",value:s.user.first_name},null,8,ae)])]),e("div",ie,[e("label",le,t(s.$t("lastname")),1),e("div",ne,[e("input",{type:"text",readonly:"",class:"form-control",id:"lastName",value:s.user.last_name},null,8,re)])]),e("div",ce,[e("label",de,t(s.$t("email")),1),e("div",ue,[e("input",{type:"text",readonly:"",class:"form-control",id:"email",value:s.user.email},null,8,_e)])]),e("div",he,[e("label",me,t(s.$t("phone")),1),e("div",pe,[e("input",{type:"text",readonly:"",class:"form-control",id:"phone",value:s.user.phone},null,8,ve)])]),e("div",be,[e("label",fe,t(s.$t("rol")),1),e("div",we,[e("input",{type:"text",readonly:"",class:"form-control",id:"role",value:s.user.role_name},null,8,ye)])])]),$e])])}const xe=w(k,[["render",ge],["__scopeId","data-v-0e02374a"]]);export{xe as default};
