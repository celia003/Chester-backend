import{N as _,G as g,u as f,a as b,U as y}from"./dinamic_styles-dvbHqokv.js";import{d as v,_ as w,x as i,o as n,c as r,b as s,t,h as c,y as $,z as k,f as P,v as U,F as C,A as N,q as d,g as u,n as D,w as M}from"./index-ovc9-s1E.js";function R(){return{id:0,username:"",first_name:"",last_name:"",email:"",role_name:"",created:"",is_active:!1}}function S(){return{fulltext:""}}const V=v({components:{NoResults:_},data(){return{users:[R()],componentKey:0,colspan:5,currentPage:1,numPages:1,numResults:10,filterParams:S()}},mounted(){this.initPage()},computed:{cursorPointer(){return"cursor-pointer"}},methods:{async initPage(){this.componentKey=0,await g.keepConnection(this.$axios).then(e=>{console.log("bla bla"),this.componentKey+=1}).catch(e=>{console.log(e.toJSON())}),this.loadUsers()},useDateStyles:f,useRowDeletedStyle:b,loadUsers(e=null){console.log("ble ble");let a=this.$route.query;e&&(a=Object.assign({},this.$route.query,{page:e})),y.getUsers(this.$axios,a).then(l=>{"results"in l.data&&l.data.results.length>0&&(this.users=l.data.results,this.numResults=l.data.count,this.numPages=Math.ceil(l.data.count/15))}).catch(l=>{console.log(l.toJSON())})},onClickHandler(e){this.loadUsers(e)},applyFilter(){this.$router.push({name:"Users",query:this.filterParams}).catch(e=>{if(e.name!="NavigationDuplicated")throw e})},goUser(e){this.$router.push({name:"UserDetail",params:{userId:e.id}})},pressEnterKey(e){e.key==="Enter"&&this.applyFilter()}},watch:{"$route.query.fulltext"(e,a){this.loadUsers()}}}),Z={class:"col-xxl-14 col-xl-13 col-lg-13 col-md-13 col-sm-13 ms-sm-auto px-md-4"},K={class:"d-flex flex-wrap flex-md-nowrap align-items-center pt-2 pb-2"},x={class:"custom_breadcrumb"},A={class:"title_section_page"},q={style:{display:"inline-block"}},B={class:"box box-content wos"},E={class:"box-header"},F={class:"header_content"},H={class:"title_header"},I={class:"title"},O=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-people border border-info icon-rounded p-1",viewBox:"0 0 16 16"},[s("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"})],-1),z={class:"grid-container-header-action-buttons text-left"},G={class:"action_header"},J={class:"btn btn-title"},T=s("i",{class:"bi bi-person-add"},null,-1),j={class:"search_section"},L={class:"input-group input-group-sm search_field"},Q=s("span",{class:"input-group-text",id:"basic-addon1"},[s("i",{class:"bi bi-search"})],-1),W={class:"box-body"},X={class:"table table-hover"},Y={scope:"col",style:{width:"30%"}},ee={scope:"col",style:{width:"25%"}},se={scope:"col",style:{width:"25%"}},te={scope:"col",style:{width:"10%"}},oe={scope:"col",style:{width:"auto"}},ae=["onClick"],le={class:"pagination"};function ne(e,a,l,ie,re,ce){const h=i("router-link"),p=i("NoResults"),m=i("vue-awesome-paginate");return n(),r("main",Z,[s("div",K,[s("div",x,[s("span",A,t(e.$t("users")),1),s("ol",null,[s("li",q,t(e.$t("users")),1)])])]),s("div",B,[s("div",E,[s("section",F,[s("div",null,[s("div",H,[s("div",null,[s("span",I,[O,c(" "+t(e.$t("user_listing")),1)])]),s("div",z,[s("div",G,[$(h,{to:{name:"UserAdd"}},{default:k(()=>[s("span",J,[T,c(" "+t(e.$t("new_user")),1)])]),_:1})])])])]),s("div",j,[s("div",L,[Q,P(s("input",{type:"search",onKeyup:a[0]||(a[0]=(...o)=>e.pressEnterKey&&e.pressEnterKey(...o)),class:"form-control search_textbox","onUpdate:modelValue":a[1]||(a[1]=o=>e.filterParams.fulltext=o),placeholder:"Search","aria-label":"search","aria-describedby":"basic-addon1"},null,544),[[U,e.filterParams.fulltext]])])])])]),s("div",W,[s("table",X,[s("thead",null,[s("tr",null,[s("th",Y,t(e.$t("name")),1),s("th",ee,t(e.$t("username")),1),s("th",se,t(e.$t("email")),1),s("th",te,t(e.$t("rol")),1),s("th",oe,t(e.$t("created")),1)])]),s("tbody",null,[(n(!0),r(C,null,N(e.users,o=>(n(),r("tr",{class:D([e.useRowDeletedStyle(o.is_active),e.cursorPointer]),onClick:M(de=>e.goUser(o),["stop"])},[s("td",null,t(o.first_name)+" "+t(o.last_name),1),s("td",null,t(o.username),1),s("td",null,t(o.email),1),s("td",null,t(o.role_name),1),s("td",null,t(e.useDateStyles(o.created)),1)],10,ae))),256)),e.users.length==0?(n(),d(p,{key:0,colspan:e.colspan},null,8,["colspan"])):u("",!0)])]),s("div",le,[e.users.length>0?(n(),d(m,{key:0,"total-items":e.numResults,modelValue:e.currentPage,"onUpdate:modelValue":a[2]||(a[2]=o=>e.currentPage=o),"items-per-page":15,"max-pages-shown":3,"on-click":e.onClickHandler},null,8,["total-items","modelValue","on-click"])):u("",!0)])])])])}const pe=w(V,[["render",ne]]);export{pe as default};
